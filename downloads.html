<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>下载中心</title>
  <script type="text/javascript">
    function AnchorTemplate(url, name) {
      return `<a target="_blank" href="${url}">${name}</a> <br/> <hr/>`;
    }
    function load() {
      const dataXHR = new XMLHttpRequest();
      dataXHR.open("GET", "/api/files-list", false);
      dataXHR.send();
      const data = JSON.parse(dataXHR.responseText);
      const filesElem = document.querySelector("#files");
      data.files.forEach((filename) => {
        filesElem.innerHTML += AnchorTemplate(
          `/api/download?filename=${encodeURI(filename)}`,
          filename
        );
      });
    }
    </script>
</head>
<!--点击超链接之后立即刷新页面  -->
<body onload="load()">
  <h2>文件下载中心</h2>
  <a href="/"><button>返回首面</button></a> <br />
  <div id="files"></div>
</body>

</html>